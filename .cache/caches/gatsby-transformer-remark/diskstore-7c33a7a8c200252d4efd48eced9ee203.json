{"expireTime":9007200859288004000,"key":"transformer-remark-markdown-html-f48ea4f209eadfbaeccf7f268cc7602b-gatsby-remark-embed-gistgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-abbrgatsby-remark-imagesgatsby-remark-prismjs-","val":"<p>Visual Studio is a fantastic IDE (and <a href=\"https://www.visualstudio.com/downloads/download-visual-studio-vs\">free</a> for individual use)! It’s been so great that they’ve added modern web dev support in recent years for things like React, Webpack, and more. In addition, Visual Studio’s installer has an option to install Node.js as part of its regular installation in order to support the npm task runners that are built in. However, I ran into an issue I updated <a href=\"https://nodejs.org\">Node.js</a> outside of Visual Studio , but <strong>since Visual Studio uses its own install that is separate from any outside installation, you can potentially run into a node_modules package dependency issue where one version of npm installs a package (which makes it rely on that version of Node/npm), and then you can’t run commands in the other version (they break).</strong></p>\n<p>Specifically, I had an issue with node-sass and windows bindings. The solution was to point Visual Studio to the version of Node.JS that I had already set up externally to Visual Studio. Here’s how to synchronize them:</p>\n<!--more-->\n<h3>Step 1: Find the Node.js install location</h3>\n<p>First, find the Node.js installation that you use on the command line. By default, Node.js installs to <code class=\"language-text\">C:\\Program Files\\nodejs</code>. Unless you picked a custom installation directory when you initially installed Node.js, this is likely the path you’ll use.</p>\n<p>Once you’ve found the installation directory, copy that directory path to your clipboard for a future step.</p>\n<h3>Step 2: Configure Visual Studio</h3>\n<p>Let’s setup up Visual Studio to point to the <em>real</em> Node.js</p>\n<blockquote>\n<p>Note: These instructions work on Visual Studio 2015, 2017, 2019, and probably future versions as well.</p>\n</blockquote>\n<p>To configure Visual Studio to use a different version of Node.js, first <strong>open Visual Studio and navigate to Tools > Options</strong>. </p>\n<p>In this dialog, go to <strong>Projects and Solutions > External Web Tools</strong> to open the dialog that manages all of the 3rd party tools used within Visual Studio.  This is where Visual Studio is configured to point to a specific version of Node.js.</p>\n<p><strong>Add an entry at the top to the path to the Node.js directory to force Visual Studio to use that version instead.</strong></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 760px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5173e4ca1be1f87ad267c09c56ee6e52/b4624/Capture.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.157894736842096%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACWklEQVQoz42SS2/TQBSF/UMpCAlYgIBWtCxAqAgkHqWABAKJBd3CBlYgKgTqAgqkD+E2fsR24qQktuNXbCd+JWlzuDNNJBYsOtJnjz3XZ47nHuH26hoWll9gnrh44xnOLz3Bqcv3OKfnH3LOLKxg7uoDzF25j7PXVnFu8TEuXH+KSzefY/HuK9xaWcPyo9dYuvMSQhiGsG0HnhcgSQboD1IEYQ/tTgeNholms4V6vQ6n6yKOE0RRdEwcw/N9tHQJZl2HbhgQqyqErmPB0HW4rot+v4+yLBCGAYy6iZqqQVVUKLKCIAhorUSe5yiKAmVRYjweY0j1w2GJNMsgqQYEq+NgZ0eEYZhwHB++H6FjOdD0OmRJgW3Z8D2fC3qex/F9n8MEZ+Pw8BBVhQRtq4tKZReyrMGyPbheD62DNs0dxFHMXQ8GA6TEYEqapugnfe50NkajMfZkHUJZZHRWDfptg367y+136bxCOseTjKOjI7pOSHB0LOi5DhQ6J9f1+M5ZlnPBgJrFxmQyOZEwq+OCB00TOrnLyf6xYMa72Ov1eAPY83+hNVbPmslSYlkWREmD8OeghVpN4w5nAkmSTAttjuM4cOgjPp/eGUxEkmWIoohqVaLY1CA0zQb2xH2oqkod9PmuzKFpmtRlGRIVsuhotCkT6FA+GXanjS49u7QZM8P4vU+CQ2pKSJFgxHHEc5iTy7LIeYM4LGvTvDFGhJuWaMcZgjRHFPr8e0VrQNjeFfH95zY2KTqbv3b5fMa3H4wtzr/vGW83trH2uYL3GxV8Wv+CD+tf8ebdR/wFES5inybkgLQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/5173e4ca1be1f87ad267c09c56ee6e52/d3720/Capture.webp 293w,\n/static/5173e4ca1be1f87ad267c09c56ee6e52/adc41/Capture.webp 585w,\n/static/5173e4ca1be1f87ad267c09c56ee6e52/62e4a/Capture.webp 760w\"\n          sizes=\"(max-width: 760px) 100vw, 760px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/5173e4ca1be1f87ad267c09c56ee6e52/8bef6/Capture.png 293w,\n/static/5173e4ca1be1f87ad267c09c56ee6e52/7b7df/Capture.png 585w,\n/static/5173e4ca1be1f87ad267c09c56ee6e52/b4624/Capture.png 760w\"\n          sizes=\"(max-width: 760px) 100vw, 760px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/5173e4ca1be1f87ad267c09c56ee6e52/b4624/Capture.png\"\n          alt=\"Locations of external tools setting in Visual Studio Options panel\"\n          title=\"Locations of external tools setting in Visual Studio Options panel\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<h4>Using the Windows PATH Instead</h4>\n<p>If you’re making this change, you probably notice that you can also move the <code class=\"language-text\">$(PATH)</code> option up to tell Visual Studio to look at the PATH environment variable to determine where it should look for <code class=\"language-text\">node</code> or other command line tools. This is probably what you want globally if you’re someone who is comfortable with the command line and understand the implications. </p>\n<p>In general it seems that Visual Studio tries to isolate itself and the tools it uses from both other installs of Visual Studio and anything else that may cause issue with it. In general, Visual Studio developers have not traditionally had to touch the command line much, so this makes sense historically, but modern web applications require a different approach.</p>\n<h4>Managing switching the Node.js Version using Powershell</h4>\n<p>Another issue that might arise due to using the <code class=\"language-text\">$(PATH)</code> is that you might have projects that use different versions of Node.js. For example one might use Node.js 8.x.x, while another uses 10.x.x. In this case you might want to use <a href=\"https://github.com/aaronpowell/ps-nvm\">Node Version Manager</a>, or “NVM” as it’s called, to switch versions on the command line in powershell.</p>\n<p> You can use NVM to switch versions of Node.js yourself on the command line, or use it to read the package.json file’s “Engine” property, and sets the appropriate version. If the version isn’t available it can even silently install the appropriate Node.js version. This is helpful in many situations, and can be included in an MSBuild task if needed to swap the version when you hit the “Play” button to the correct version, or as a step in your CI/CD build process.</p>\n<h3>Wrapping Up</h3>\n<p>And that’s it!  Now you’re all synced up!  Having two separate installs is really confusing.  If you’re starting out with JUST the VS Node.js version, you’ll eventually come to a point where you may update node.js by installing it outside VS, causing it to get out of sync anyway. If you’re a veteran to Node.js, then you’re already using Node outside of Visual Studio and will need to do this anyway. It seems like there should be better documentation or indicators to show what version VS is using so this is more apparent.</p>\n<p>Hope that helped.  Did this fix it for you?  Do you have a better way of keeping this in sync or a plugin/tool to help out?  Let us know in the comments!</p>"}