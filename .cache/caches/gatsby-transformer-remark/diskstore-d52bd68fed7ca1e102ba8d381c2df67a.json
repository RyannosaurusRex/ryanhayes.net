{"expireTime":9007200859288004000,"key":"transformer-remark-markdown-html-a2b9e313b5072faff2cc618eef0097e4-gatsby-remark-embed-gistgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-abbrgatsby-remark-imagesgatsby-remark-prismjs-","val":"<p>One of the first applications that I write for a new platform to learn the ropes is an RSS reader.  That rule holds true for Windows Phone 7.  The great thing about the Windows Phone 7 SDK and the .NET 4.0 platform is that everything you need to work with RSS or any other syndication feed is ready for you right out of the box!  With Android development, you need to parse the XML and return values yourself.  For just reading an RSS feed, it’s a nightmare.  The references don’t, however, show up in Visual Studio 2010 automatically, so you’ll need to add them manually.  I’ll go over it all in this guide to programming RSS feeds in Windows Phone 7.<!--more--></p>\n<!-- more -->\n<p>If you’re creating a Windows Phone 7 app for the first time, you’ll notice that there are two types of applications that you can create:</p>\n<ul>\n<li>Silverlight (List/Form/Standard Graphics)</li>\n<li>XNA (Enhanced/Custom Graphics)</li>\n</ul>\n<p>XNA applications are great for games or fancy-pants apps, but not for RSS readers.  For our blog/RSS app, we’ll need to just select the standard Silverlight list template.  This gives us a great head start with the UI that we can use as the main menu of post titles (and more that we’ll use in later posts).</p>\n<p>Now for the magic!  If you’ve read my other post on <a href=\"https://blog.ryanhayes.net/post/649210287/android-project-part-ii-reading-rss-feeds-in-android\">how to read RSS feeds in Android</a>, you’ll be relieved to know that Windows Phone 7 is leaps and bounds easier than Android!  Microsoft was kind enough to give us <strong>System.ServiceModel.Syndication</strong>, which contains absolutely everything you need for dealing with RSS feeds and xml-based syndication.  However <strong>you must add System.ServiceModel.Syndication.dll manually</strong> as Visual Studio 2010 does not show it in the list of references out of the box.</p>\n<p><strong>To add System.ServiceModel.Syn**</strong>dication.dll:<br>\n** </p>\n<ol>\n<li>Right-click <strong>References</strong> in the under the Windows Phone 7 project in the <strong>Solution Explorer</strong>.</li>\n<li>Select <strong>Add Reference</strong></li>\n<li>Go to the <strong>Browse</strong> tab (<em>Note: This may be added to the .NET tab as usual in future releases of the Windows Phone 7 SDK.  Keep that in mind if you’re reading this…from the FUTURE!)</em></li>\n<li>On your C: (or equivalent) drive, browse to <strong>\\Program Files</strong><span>\\Microsoft SDKs\\Silverlight\\v4.0\\Libraries\\Client</span></li>\n<li>In the list, select <strong>System.ServiceModel.Syndication.dll</strong> and click <strong>OK.</strong></li>\n</ol>\n<p>Now you’re all set to work with RSS feeds!  Everything we do in this post will be working with the MainPage.xaml and its MainPage.xaml.cs code behind file.  First, let’s add some code to the <strong>OnNavigatedTo</strong> method in the <strong>MainPage.xaml.cs</strong> file:</p>\n<p> <code class=\"language-text\">protected override void OnNavigatedTo(NavigationEventArgs e)&lt;br /&gt;\n{&lt;br /&gt;\nbase.OnNavigatedTo(e);&lt;br /&gt;\nstring url = &quot;https://feeds.feedburner.com/blogryanhayesnet&quot;;&lt;br /&gt;\nHttpWebRequest request = (HttpWebRequest)HttpWebRequest.Create(new Uri(url));&lt;br /&gt;\nrequest.BeginGetResponse(ResponseHandler, request);&lt;br /&gt;\n}</code> </p>\n<p>This little piece of code does a few things whenever the Windows Phone 7 application hits the MainPage:</p>\n<ul>\n<li>Sets the RSS feed URL of the feed you want to display.</li>\n<li>Creates a new HttpWebRequest with that url to fetch.</li>\n<li>Starts an <strong>asynchronous</strong> request to grab the feed.</li>\n</ul>\n<p>You’ll notice that I bolded asynchronous.  This is because if you’ve done a lot of web requests in the past, you just shoot the request and immediately get the response in the next line.  With phones, however, your connection can come and go, and from different sources.  For this reason the HttpWebRequest is split into two parts.  First, this <strong>request</strong>, which fires off a <strong>.BeginGetResponse(ResponseHandler, request);</strong>.  Once the request is completed, an event fires, which is what the ResponseHandler part is for.  This method that we need to create fires as soon as the RSS feed is received, and we’ll also use that method to update the contents of the MainListBox with the items that we get back!  Let’s take a look at it now:</p>\n<p><img src=\"https://media.tumblr.com/tumblr_l7mgfwLsbA1qb9rmw.png\"> </p>\n<p>The first few lines of the method make sure the HttpWebRequest came back with an <em>OK</em> status and gets the response information.  If everything checks out, then we proceed to parsing the RSS feed that was returned.  First, we use <strong>XmlReader to get the response as an XML document.</strong> Once we have that, we <strong>load the reader into a new Syndication Feed</strong>.  The SyndicationFeed is basically a wrapper around a standard XML object that already has all the properties ready to grab that you would expect in an RSS feed and its posts!** _<em>**</em><strong>Awesome!</strong>_ From here you can the SyndicationFeed however you want.  For my blog application, I chose to set the SyndicationFeed object as the ItemsSource for the MainListBox in my UI.</p>\n<p>From here, we’re almost done.  The last thing that we need to do is set the ItemText and DetailsText’s Text properties to bind to the Title property in the Feed’s list of Items.  For this, I bound both to just the Title text – take a look:</p>\n<p><img src=\"https://media.tumblr.com/tumblr_l7mva1mCDS1qb9rmw.png\"> </p>\n<p><em><strong>And that’s it!</strong></em> Seriously, that’s all you need to get started with reading RSS feeds in Windows 7.  In part II of this series I’ll finish up the project and show you how to maneuver to a second page and show the full post in the blog app.</p>"}