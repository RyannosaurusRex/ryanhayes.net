{"data":{"logo":{"childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAIDBAEF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAGu+uc9YSe5EnAMv//EABsQAQEAAgMBAAAAAAAAAAAAAAIBAAMREiIx/9oACAEBAAEFAubsXmbLuEw3sEUs+4TISZi1QX//xAAZEQABBQAAAAAAAAAAAAAAAAAAARAREkH/2gAIAQMBAT8ByCiP/8QAGREAAwADAAAAAAAAAAAAAAAAAAEREBIh/9oACAECAQE/Ae2m7wj/xAAeEAACAQMFAAAAAAAAAAAAAAAAARECMVESISJBkf/aAAgBAQAGPwLU0h1VYixsmOlWyNp9HJEHpCk//8QAHRABAAICAgMAAAAAAAAAAAAAAQARITFRYXGBsf/aAAgBAQABPyGjGEDivHcDoor6iVJj7j09TYIXS7tJRll9ykjHE262BIUelcz/2gAMAwEAAgADAAAAEHTIQv/EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAwEBPxDBowiQ2//EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQIBAT8QgwvGTl//xAAdEAEBAAIDAAMAAAAAAAAAAAABEQAhMUFhUYGx/9oACAEBAAE/EAMggqndi9ZAexSFjt9dfWRAfkJ+4WigOgURY9uGhWcUBeeLtxQgt7jEkUkBoxi8HWCbMnJi7x//2Q==","width":400,"height":400,"src":"/static/be24937bd271ffcff6152e4850800cbd/8539d/ryan-hayes.jpg","srcSet":"/static/be24937bd271ffcff6152e4850800cbd/8539d/ryan-hayes.jpg 1x"}}},"markdownRemark":{"html":"<p>  By now, most people know that websites’ SEO is dinged by Google when there is both a www and non-www url with the same content on both. Google (and Bing) treat them as two separate sites and they fight for pagerank as everyone else blows your two competing sites out of the water. I’ve had redirects set up on my WordPress blog for the past 4 years, which is pretty easy to do, but I <a title=\"Ghost VS WordPress (and Why I Migrated Back to WordPress)\" href=\"https://ryanhayes.net/ghost-vs-wordpress-migrating/\">recently moved my blog over to Ghost</a> blogging engine and since it’s currently at version 0.5, it didn’t have this 301 redirect functionality built in, so I needed to roll my own. Since I was moving to <a href=\"https://azure.com\">Azure Websites</a>, I needed to add a redirect to get this fixed in the web.config, so I thought I’d share it with you! </p> </p>\n  <h3 id=\"redirectingtononwwwusingthewebconfig\">\n    Redirecting to non-www using the Web.config\n  </h3>\n  \n  <p>\n    You can always use IIS to explicity set up a redirect, but I find that these types of configurations are best done in the Web.config, since they are (1) more portable, (2) have the ability to be stored in source control, and (3) can be included in Web.config transformations if you want to get all fancy!\n  </p>\n  \n  <p>\n    Here's what you need to add to your Web.config:\n  </p>\n  \n  <pre><code>&lt;rewrite&gt;\n    &lt;rules&gt;\n        &lt;rule name=\"Redirect to non-www\" stopProcessing=\"true\"&gt;\n            &lt;match url=\"(.*)\" negate=\"false\"&gt;&lt;/match&gt;\n            &lt;action type=\"Redirect\" url=\"https://domain.com/{R:1}\"&gt;&lt;/action&gt;\n            &lt;conditions&gt;\n                &lt;add input=\"{HTTP_HOST}\" pattern=\"^domain\\.com$\" negate=\"true\"&gt;&lt;/add&gt;\n            &lt;/conditions&gt;\n        &lt;/rule&gt;\n    &lt;/rules&gt;\n&lt;/rewrite&gt;\n</code></pre>\n  \n  <p>\n    &nbsp;\n  </p>\n  \n  <blockquote>\n    <p>\n      Note: You'll need to make sure that for redirecting a site like www.example.com to example.com, you'll need to make sure that you've configured <em>both</em> of those domains to point to your website. If you never set up the www. site to point to your host, IIS and your Web.config will never be hit to do a redirection.\n    </p>\n    \n    <p>\n      &nbsp;\n    </p>\n  </blockquote>\n  \n  <p>\n    &nbsp;\n  </p>\n  \n  <h3 id=\"collectlostseo\">\n    Collect Lost SEO\n  </h3>\n  \n  <p>\n    And that's it! <strong>These redirects have huge effects on what I call \"accidental\" SEO.</strong> All over the internet you'll find people in the habit of hand-linking to websites, and we've got a bad habit of just assuming www and non-www links are inter-changeable, when they're not. Setting up these redirects will ensure you get credit for all (or many, many more) of the links to your site that are out there on the web.\n  </p>\n  \n  <p>\n  </p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"  By now, most people know that websites’ SEO is dinged by Google when there is both a www and non-www url with the same content on both. Google (and Bing) treat them as two separate sites and they fight for pagerank as everyone else blows your two competing sites out of the water. I’ve had redirects set up on my WordPress blog for the past 4 years, which is pretty easy to do, but I "},{"type":"element","tagName":"a","properties":{"title":"Ghost VS WordPress (and Why I Migrated Back to WordPress)","href":"https://ryanhayes.net/ghost-vs-wordpress-migrating/"},"children":[{"type":"text","value":"recently moved my blog over to Ghost"}]},{"type":"text","value":" blogging engine and since it’s currently at version 0.5, it didn’t have this 301 redirect functionality built in, so I needed to roll my own. Since I was moving to "},{"type":"element","tagName":"a","properties":{"href":"https://azure.com"},"children":[{"type":"text","value":"Azure Websites"}]},{"type":"text","value":", I needed to add a redirect to get this fixed in the web.config, so I thought I’d share it with you! "}]},{"type":"text","value":" "},{"type":"element","tagName":"p","properties":{},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"h3","properties":{"id":"redirectingtononwwwusingthewebconfig"},"children":[{"type":"text","value":"\n    Redirecting to non-www using the Web.config\n  "}]},{"type":"text","value":"\n  \n  "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"\n    You can always use IIS to explicity set up a redirect, but I find that these types of configurations are best done in the Web.config, since they are (1) more portable, (2) have the ability to be stored in source control, and (3) can be included in Web.config transformations if you want to get all fancy!\n  "}]},{"type":"text","value":"\n  \n  "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"\n    Here's what you need to add to your Web.config:\n  "}]},{"type":"text","value":"\n  \n  "},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"<rewrite>\n    <rules>\n        <rule name=\"Redirect to non-www\" stopProcessing=\"true\">\n            <match url=\"(.*)\" negate=\"false\"></match>\n            <action type=\"Redirect\" url=\"https://domain.com/{R:1}\"></action>\n            <conditions>\n                <add input=\"{HTTP_HOST}\" pattern=\"^domain\\.com$\" negate=\"true\"></add>\n            </conditions>\n        </rule>\n    </rules>\n</rewrite>\n"}]}]},{"type":"text","value":"\n  \n  "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"\n     \n  "}]},{"type":"text","value":"\n  \n  "},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"\n      Note: You'll need to make sure that for redirecting a site like www.example.com to example.com, you'll need to make sure that you've configured "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"both"}]},{"type":"text","value":" of those domains to point to your website. If you never set up the www. site to point to your host, IIS and your Web.config will never be hit to do a redirection.\n    "}]},{"type":"text","value":"\n    \n    "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"\n       \n    "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  \n  "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"\n     \n  "}]},{"type":"text","value":"\n  \n  "},{"type":"element","tagName":"h3","properties":{"id":"collectlostseo"},"children":[{"type":"text","value":"\n    Collect Lost SEO\n  "}]},{"type":"text","value":"\n  \n  "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"\n    And that's it! "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"These redirects have huge effects on what I call \"accidental\" SEO."}]},{"type":"text","value":" All over the internet you'll find people in the habit of hand-linking to websites, and we've got a bad habit of just assuming www and non-www links are inter-changeable, when they're not. Setting up these redirects will ensure you get credit for all (or many, many more) of the links to your site that are out there on the web.\n  "}]},{"type":"text","value":"\n  \n  "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"\n  "}]}],"data":{"quirksMode":false}},"excerpt":"By now, most people know that websites’ SEO is dinged by Google when there is both a www and non-www url with the same content on both…","timeToRead":2,"frontmatter":{"title":"Redirect WWW to Non-WWW using the Web.config","userDate":"1 September 2014","date":"2014-09-01T02:10:43.000Z","tags":null,"image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAa41aJxgf//EABgQAAMBAQAAAAAAAAAAAAAAAAABAhIi/9oACAEBAAEFAm5U3OV0IRk//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BR//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABoQAAICAwAAAAAAAAAAAAAAAAERAAISIEH/2gAIAQEABj8CwqHCu6//xAAbEAACAwADAAAAAAAAAAAAAAAAAREhMVFhgf/aAAgBAQABPyH1qcDIjtYoLEYJF7k//9oADAMBAAIAAwAAABAXz//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxBKEH//xAAWEQEBAQAAAAAAAAAAAAAAAAARAAH/2gAIAQIBAT8QWdv/xAAdEAEBAAICAwEAAAAAAAAAAAABEQAxIXFBUZHR/9oACAEBAAE/EIgJ3uL3fLlx3daP5hkIGh5mC30ZyWnUxDU/mf/Z","aspectRatio":1.5,"src":"/static/fd751a920788255b3f752ac55d71a03b/45a11/demo1.jpg","srcSet":"/static/fd751a920788255b3f752ac55d71a03b/f8f18/demo1.jpg 930w,\n/static/fd751a920788255b3f752ac55d71a03b/0e6ff/demo1.jpg 1860w,\n/static/fd751a920788255b3f752ac55d71a03b/45a11/demo1.jpg 3720w,\n/static/fd751a920788255b3f752ac55d71a03b/c537a/demo1.jpg 4608w","sizes":"(max-width: 3720px) 100vw, 3720px"}}},"author":{"id":"Ryan Hayes","bio":"Hi, I'm Ryan. I'm an 8x Microsoft MVP and lead engineer who loves building software development teams and multiplying their productivity.","avatar":{"children":[{"__typename":"ImageSharp","fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAIDBAEF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAGu+uc9YSe5EnAMv//EABsQAQEAAgMBAAAAAAAAAAAAAAIBAAMREiIx/9oACAEBAAEFAubsXmbLuEw3sEUs+4TISZi1QX//xAAZEQABBQAAAAAAAAAAAAAAAAAAARAREkH/2gAIAQMBAT8ByCiP/8QAGREAAwADAAAAAAAAAAAAAAAAAAEREBIh/9oACAECAQE/Ae2m7wj/xAAeEAACAQMFAAAAAAAAAAAAAAAAARECMVESISJBkf/aAAgBAQAGPwLU0h1VYixsmOlWyNp9HJEHpCk//8QAHRABAAICAgMAAAAAAAAAAAAAAQARITFRYXGBsf/aAAgBAQABPyGjGEDivHcDoor6iVJj7j09TYIXS7tJRll9ykjHE262BIUelcz/2gAMAwEAAgADAAAAEHTIQv/EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAwEBPxDBowiQ2//EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQIBAT8QgwvGTl//xAAdEAEBAAIDAAMAAAAAAAAAAAABEQAhMUFhUYGx/9oACAEBAAE/EAMggqndi9ZAexSFjt9dfWRAfkJ+4WigOgURY9uGhWcUBeeLtxQgt7jEkUkBoxi8HWCbMnJi7x//2Q==","width":400,"height":400,"src":"/static/be24937bd271ffcff6152e4850800cbd/f4032/ryan-hayes.jpg","srcSet":"/static/be24937bd271ffcff6152e4850800cbd/f4032/ryan-hayes.jpg 1x"}}]}}}},"relatedPosts":{"totalCount":0,"edges":[]}},"pageContext":{"slug":"/redirect-www-non-www-using-web-config/","prev":{"excerpt":"While working with a single page app I inherited the other day, I ran upon a few very subtle bugs where I would save data on the screen and…","timeToRead":2,"frontmatter":{"title":"How Using jQuery's $.get() Can Cause Subtle Bugs in Single Page Apps","tags":["uncategorized"],"date":"2014-04-02T15:38:25.000Z","draft":null,"image":{"childImageSharp":{"fluid":{"aspectRatio":1.5,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAa41aJxgf//EABgQAAMBAQAAAAAAAAAAAAAAAAABAhIi/9oACAEBAAEFAm5U3OV0IRk//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BR//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABoQAAICAwAAAAAAAAAAAAAAAAERAAISIEH/2gAIAQEABj8CwqHCu6//xAAbEAACAwADAAAAAAAAAAAAAAAAAREhMVFhgf/aAAgBAQABPyH1qcDIjtYoLEYJF7k//9oADAMBAAIAAwAAABAXz//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxBKEH//xAAWEQEBAQAAAAAAAAAAAAAAAAARAAH/2gAIAQIBAT8QWdv/xAAdEAEBAAICAwEAAAAAAAAAAAABEQAxIXFBUZHR/9oACAEBAAE/EIgJ3uL3fLlx3daP5hkIGh5mC30ZyWnUxDU/mf/Z","sizes":"(max-width: 3720px) 100vw, 3720px","src":"/static/fd751a920788255b3f752ac55d71a03b/45a11/demo1.jpg","srcSet":"/static/fd751a920788255b3f752ac55d71a03b/f8f18/demo1.jpg 930w,\n/static/fd751a920788255b3f752ac55d71a03b/0e6ff/demo1.jpg 1860w,\n/static/fd751a920788255b3f752ac55d71a03b/45a11/demo1.jpg 3720w,\n/static/fd751a920788255b3f752ac55d71a03b/c537a/demo1.jpg 4608w"}}},"author":{"id":"Ryan Hayes","bio":"Hi, I'm Ryan. I'm an 8x Microsoft MVP and lead engineer who loves building software development teams and multiplying their productivity.","avatar":{"children":[{"fixed":{"src":"/static/be24937bd271ffcff6152e4850800cbd/f4032/ryan-hayes.jpg"}}]}}},"fields":{"layout":"post","slug":"/using-jquerys-get-can-cause-subtle-bugs-single-page-apps/"}},"next":{"excerpt":"A few weeks ago I decided to hop on the Ghost train.  Ghost is a blogging engine, written in Node.js (JavaScript) and is only a little over…","timeToRead":7,"frontmatter":{"title":"Ghost VS WordPress","tags":["uncategorized"],"date":"2014-09-02T04:10:32.000Z","draft":null,"image":{"childImageSharp":{"fluid":{"aspectRatio":1.499267935578331,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAUBAgQG/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAGjLmpc6xaN/8QAGhAAAgMBAQAAAAAAAAAAAAAAAQIAERMDEv/aAAgBAQABBQLgwMYjxrFc1o1XP//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AUf/xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAgEBPwFJ/8QAFxABAQEBAAAAAAAAAAAAAAAAARAhMf/aAAgBAQAGPwImLOz/xAAZEAEAAwEBAAAAAAAAAAAAAAABABEhYTH/2gAIAQEAAT8hpi+EGlZYyCwwzkclk7Lz/9oADAMBAAIAAwAAABD0L//EABcRAAMBAAAAAAAAAAAAAAAAAAABIRH/2gAIAQMBAT8QUho//8QAFhEBAQEAAAAAAAAAAAAAAAAAEQAB/9oACAECAQE/EF1jL//EABoQAAIDAQEAAAAAAAAAAAAAAAERACFRQZH/2gAIAQEAAT8QWWKr4rjTDG7DTIAJMR5NNghDHx4BOEh77P/Z","sizes":"(max-width: 1024px) 100vw, 1024px","src":"/static/4891b90e74f011045e59966dcaa933d7/426ce/creepy-curve-dark-1096.jpg","srcSet":"/static/4891b90e74f011045e59966dcaa933d7/f8f18/creepy-curve-dark-1096.jpg 930w,\n/static/4891b90e74f011045e59966dcaa933d7/426ce/creepy-curve-dark-1096.jpg 1024w"}}},"author":{"id":"Ryan Hayes","bio":"Hi, I'm Ryan. I'm an 8x Microsoft MVP and lead engineer who loves building software development teams and multiplying their productivity.","avatar":{"children":[{"fixed":{"src":"/static/be24937bd271ffcff6152e4850800cbd/f4032/ryan-hayes.jpg"}}]}}},"fields":{"layout":"post","slug":"/ghost-vs-wordpress/"}},"primaryTag":""}}